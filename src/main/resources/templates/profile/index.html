<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.0/css/bootstrap.min.css}">
	<link rel="stylesheet" th:href="@{/css/profile.css}">
    <title>プロフィール管理</title>
<!--    <style>-->
<!--        .edit-btn {-->
<!--            margin-left: 10px;-->
<!--        }-->
<!--    </style>-->
</head>
<body>
<div class="container">
    <img src="/images/logo.jpg" alt="Logo" style="width: 100px; height: auto;">
    <h2>プロフィール管理</h2>
    <form id="profileForm" th:action="@{/profile/{id}}" method="post">
        
        <!-- ユーザー名 -->
        <div class="mb-3">
            <label for="name">ユーザー名</label>
            <div class="d-flex align-items-center">
                <input type="text" class="form-control" id="name" disabled>
                <button type="button" class="btn btn-primary edit-btn" onclick="enableEdit('name')">編集</button>
            </div>
        </div>
        
        <!-- メールアドレス -->
        <div class="mb-3">
            <label for="email">メールアドレス</label>
            <div class="d-flex align-items-center">
                <input type="email" class="form-control" id="email" disabled>
                <button type="button" class="btn btn-primary edit-btn" onclick="enableEdit('email')">編集</button>
            </div>
        </div>
        
        <!-- パスワード -->
        <div class="mb-3">
            <label for="password">パスワード</label>
            <div class="d-flex align-items-center">
                <input type="password" class="form-control" id="password" disabled>
                <button type="button" class="btn btn-primary edit-btn" onclick="enableEdit('password')">編集</button>
            </div>
        </div>
        
        <!-- 姓 -->
        <div class="mb-3">
            <label for="family_name">姓</label>
            <div class="d-flex align-items-center">
                <input type="text" class="form-control" id="family_name" disabled>
                <button type="button" class="btn btn-primary edit-btn" onclick="enableEdit('family_name')">編集</button>
            </div>
        </div>
        
        <!-- 名 -->
        <div class="mb-3">
            <label for="first_name">名</label>
            <div class="d-flex align-items-center">
                <input type="text" class="form-control" id="first_name" disabled>
                <button type="button" class="btn btn-primary edit-btn" onclick="enableEdit('first_name')">編集</button>
            </div>
        </div>
        
        <!-- 生年月日 -->
        <div class="mb-3">
            <label for="birthdate">生年月日</label>
            <div class="d-flex align-items-center">
                <input type="date" class="form-control" id="birthdate" disabled>
                <button type="button" class="btn btn-primary edit-btn" onclick="enableEdit('birthdate')">編集</button>
            </div>
        </div>
        
        <!-- 年齢 -->
        <div class="mb-3">
            <label for="age">年齢</label>
            <div class="d-flex align-items-center">
                <input type="text" class="form-control" id="age" name="age" disabled>
                <button type="button" class="btn btn-primary edit-btn" onclick="enableEdit('age')">編集</button>
            </div>
        </div>
        
        <!-- 体重 -->
        <div class="mb-3">
            <label for="weight">体重 (kg)</label>
            <div class="d-flex align-items-center">
                <input type="number" step="0.1" class="form-control" id="weight" disabled>
                <button type="button" class="btn btn-primary edit-btn" onclick="enableEdit('weight')">編集</button>
            </div>
        </div>
        
        <!-- 身長 -->
        <div class="mb-3">
            <label for="height">身長 (cm)</label>
            <div class="d-flex align-items-center">
                <input type="number" step="0.1" class="form-control" id="height" disabled>
                <button type="button" class="btn btn-primary edit-btn" onclick="enableEdit('height')">編集</button>
            </div>
        </div>
        
        <!-- 性別 -->
        <div class="mb-3">
            <label for="gender">性別</label>
            <div class="d-flex align-items-center">
                <select class="form-control" id="gender" disabled>
                    <option value="">選択してください</option>
                    <th:block th:each="gender : ${genderMap}">
                        <option th:value="${gender.key}" th:text="${gender.value}"></option>
                    </th:block>
                </select>
                <button type="button" class="btn btn-primary edit-btn" onclick="enableEdit('gender')">編集</button>
            </div>
        </div>
        
        <!-- プロフィール画像 -->
        <div class="mb-3">
            <label for="profile_image">プロフィール画像</label>
            <div class="d-flex align-items-center">
                <input type="file" class="form-control" id="profile_image" disabled>
                <button type="button" class="btn btn-primary edit-btn" onclick="enableEdit('profile_image')">編集</button>
            </div>
        </div>
        
        <!-- 確認ボタン -->
        <button type="button" class="btn btn-primary">確認</button>
        <a th:href="@{/top}" class="btn btn-secondary">戻る</a>
    </form>
</div>

<!-- JavaScript -->
<script>
    function enableEdit(fieldId) {
        // 指定されたフィールドの disabled 属性を解除
        document.getElementById(fieldId).disabled = false;
    }
</script>

<script th:src="@{/webjars/popper.js/2.11.7/umd/popper.min.js}" defer></script>
<script th:src="@{/webjars/bootstrap/5.3.0/js/bootstrap.min.js}" defer></script>

</body>
</html>
